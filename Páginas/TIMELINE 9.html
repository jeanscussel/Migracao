<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline Interativa de Migração</title>
    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">

    <style>
    /* --- 1. CONFIGURAÇÃO GERAL E VARIÁVEIS --- */
    
    :root {
        /* Cores baseadas na imagem de referência */
        --color-item-1: #007bff;
        --color-item-2: #17a2b8;
        --color-item-3: #6f42c1;
        --color-item-4: #dc3545;
        --color-item-5: #ffc107;
        
        /* Cores de status */
        --color-concluido: #28a745;
        --color-andamento: #007bff;
        --color-futuro: #adb5bd;

        /* Cores de UI */
        --color-bg: #f8f9fa;
        --color-text: #333;
        --color-line: #dee2e6;
        --color-card-bg: #ffffff; /* Importante para o fade do acordeão */
        --color-shadow: rgba(0, 0, 0, 0.1);

        /* Transições */
        --transition-speed: 0.4s;
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: var(--color-bg);
        color: var(--color-text);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 2rem 0;
        overflow-x: hidden;
    }

    /* --- 2. CONTAINER PRINCIPAL DO CARROSSEL --- */

    .timeline-container {
        width: 90%;
        max-width: 1200px;
        margin: 2rem auto;
        position: relative;
        overflow: hidden;
    }

    /* --- 3. O "TRILHO" DO CARROSSEL --- */

    .timeline-track {
        display: flex;
        padding: 2rem 0; 
        transition: transform var(--transition-speed) ease-in-out;
    }

    /* --- 4. CADA ITEM DA TIMELINE (CARD + MARCO) --- */

    .timeline-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 300px; 
        flex-shrink: 0;
        margin: 0 1.5rem; 
        position: relative;
        opacity: 0.6;
        transform: scale(0.9);
        transition: opacity var(--transition-speed) ease, 
                    transform var(--transition-speed) ease;
    }

    /* Efeito de Foco Central */
    .timeline-item.active {
        opacity: 1;
        transform: scale(1);
    }

    /* --- 5. O CARD DE INFORMAÇÕES (CAIXA DE DIÁLOGO) --- */

    .timeline-card {
        background: var(--color-card-bg);
        border: 1px solid var(--color-line);
        border-top: 5px solid var(--item-color);
        border-radius: 8px;
        padding: 1.5rem;
        width: 100%;
        box-shadow: 0 4px 12px var(--color-shadow);
        position: relative;
        margin-bottom: 2.5rem; 
        display: flex;
        align-items: flex-start;
    }

    .timeline-card::after {
        content: '';
        position: absolute;
        bottom: -15px; 
        left: 50%;
        transform: translateX(-50%);
        width: 0;
        height: 0;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
        border-top: 15px solid var(--item-color);
    }

    .card-icon {
        margin-right: 1rem;
        color: var(--item-color);
    }

    .card-icon .material-icons-outlined {
        font-size: 2.5rem;
    }

    .card-content h4 {
        font-size: 1.15rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
        color: #000;
    }

    .card-content p {
        font-size: 0.9rem;
        line-height: 1.5;
        position: relative; /* Para o pseudo-elemento fade */
        
        /* DOCUMENTAÇÃO (Acordeão): Define a altura 'fechada' */
        max-height: 4.5em; /* Aprox. 3 linhas (3 linhas * 1.5 line-height) */
        overflow: hidden;
        
        /* DOCUMENTAÇÃO (Acordeão): Transição suave da altura */
        transition: max-height var(--transition-speed) ease-in-out;
    }

    /* DOCUMENTAÇÃO (Acordeão): Efeito de 'fade' no final do texto */
    .card-content p::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 1.5em; /* Altura de uma linha */
        background: linear-gradient(to bottom, transparent, var(--color-card-bg));
        transition: opacity 0.2s ease;
        pointer-events: none; /* Não bloquear o texto */
    }
    
    /* DOCUMENTAÇÃO (Acordeão): Expande o texto no item ativo */
    .timeline-item.active .card-content p {
        max-height: 20em; /* Valor grande para caber qualquer texto */
    }
    
    /* DOCUMENTAÇÃO (Acordeão): Esconde o 'fade' quando aberto */
    .timeline-item.active .card-content p::after {
        opacity: 0;
    }
    
    /* --- 6. O MARCO (CÍRCULO + LINHA + SETA) --- */

    .timeline-milestone {
        width: 100%;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50px; 
    }

    .timeline-milestone::before {
        content: '';
        position: absolute;
        width: 100%;
        height: 8px; 
        background: var(--item-color);
        top: 50%;
        transform: translateY(-50%);
        z-index: 1;
    }
    
    .timeline-milestone::after {
        content: '';
        position: absolute;
        top: 50%;
        right: -2px; 
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
        border-left: 10px solid var(--item-color);
        z-index: 2;
    }
    
    .timeline-item:last-child .timeline-milestone::after {
        display: none;
    }
    
    .timeline-item:first-child .timeline-milestone::before {
        width: 50%;
        left: 50%;
    }
    
    .timeline-item:last-child .timeline-milestone::before {
        width: 50%;
        right: 50%;
    }

    .milestone-circle {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--item-color);
        border: 4px solid var(--color-card-bg); 
        box-shadow: 0 0 0 4px var(--item-color);
        color: white;
        font-size: 1.5rem;
        font-weight: 700;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 3; 
    }
    
    /* Estilos de Status */
    .timeline-item.concluido .milestone-circle,
    .timeline-item.concluido .timeline-milestone::before,
    .timeline-item.concluido .timeline-milestone::after {
        background: var(--color-concluido);
        border-left-color: var(--color-concluido);
        box-shadow: 0 0 0 4px var(--color-concluido);
    }
    
    .timeline-item.andamento .milestone-circle,
    .timeline-item.andamento .timeline-milestone::before,
    .timeline-item.andamento .timeline-milestone::after {
        background: var(--color-andamento);
        border-left-color: var(--color-andamento);
        box-shadow: 0 0 0 4px var(--color-andamento);
    }
    
    .timeline-item.futuro .milestone-circle,
    .timeline-item.futuro .timeline-milestone::before,
    .timeline-item.futuro .timeline-milestone::after {
        background: var(--color-futuro);
        border-left-color: var(--color-futuro);
        box-shadow: 0 0 0 4px var(--color-futuro);
    }

    /* --- 7. BOTÕES DE NAVEGAÇÃO --- */

    .timeline-nav {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 1rem;
    }

    .nav-btn {
        background-color: var(--color-item-1);
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 2px 8px var(--color-shadow);
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .nav-btn:hover {
        background-color: #0056b3;
        transform: translateY(-2px);
    }

    .nav-btn:disabled {
        background-color: #ccc;
        cursor: not-allowed;
        transform: none;
    }

    /* --- 8. RESPONSIVIDADE --- */

    @media (max-width: 768px) {
        body {
            padding: 1rem 0;
        }
        
        .timeline-container {
            width: 100%; 
        }

        .timeline-item {
            width: 80vw;
            margin: 0 2.5vw; 
        }
        
        .card-icon .material-icons-outlined {
            font-size: 2rem;
        }
        
        .card-content h4 {
            font-size: 1rem;
        }
        
        .card-content p {
            font-size: 0.85rem;
        }
    }
</style>
</head>
<body>

    <div class="timeline-container">
        <div class="timeline-track">
            </div>
    </div>

    <div class="timeline-nav">
        <button id="prevBtn" class="nav-btn" aria-label="Etapa Anterior">
            <span class="material-icons-outlined">arrow_back</span>
        </button>
        <button id="nextBtn" class="nav-btn" aria-label="Próxima Etapa">
            <span class="material-icons-outlined">arrow_forward</span>
        </button>
    </div>


    <script>
        /*
          ============================================================
          === JAVASCRIPT PARA A TIMELINE INTERATIVA ===
          ============================================================
        */

        document.addEventListener('DOMContentLoaded', () => {

            /*
              ------------------------------------------------------------
              PASSO 1: DADOS DA TIMELINE
              DOCUMENTAÇÃO: Este é o "cérebro" da timeline. 
              Para adicionar, remover ou editar etapas, basta
              modificar este array de objetos.
              ------------------------------------------------------------
            */
            const timelineData = [
                {
                    title: "Planejamento e Descoberta",
                    description: "Análise de requisitos, definição de escopo e mapeamento de dados do sistema legado.",
                    icon: "search", // Nome do Google Material Icon
                    status: "concluido" // 'concluido', 'andamento', 'futuro'
                },
                {
                    title: "Configuração do Ambiente",
                    description: "Preparação dos servidores de destino, instalação de software e configuração de rede.",
                    icon: "settings_applications",
                    status: "concluido"
                },
                {
                    title: "Desenvolvimento e Testes",
                    description: "Desenvolvimento de scripts de migração, testes unitários e de integração.",
                    icon: "build",
                    status: "andamento"
                },
                {
                    title: "Migração Piloto",
                    description: "Execução da migração com um subconjunto de dados (UAT) para validar o processo.",
                    icon: "flight_takeoff",
                    status: "futuro"
                },
                {
                    title: "Go-Live e Pós-Migração",
                    description: "Migração final, validação em produção e suporte pós-implementação.",
                    icon: "flag",
                    status: "futuro"
                }
            ];

            // Cores baseadas nas variáveis CSS (para fácil acesso)
            const colors = [
                'var(--color-item-1)',
                'var(--color-item-2)',
                'var(--color-item-3)',
                'var(--color-item-4)',
                'var(--color-item-5)'
            ];

            /*
              ------------------------------------------------------------
              PASSO 2: SELETORES E VARIÁVEIS DE ESTADO
              ------------------------------------------------------------
            */
            const timelineContainer = document.querySelector('.timeline-container');
            const track = document.querySelector('.timeline-track');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            let currentIndex = 0; // Estado: Qual item está ativo
            let itemWidth = 0;    // Estado: Largura de um item (calculado)

            /*
              ------------------------------------------------------------
              PASSO 3: RENDERIZAÇÃO INICIAL (CRIAÇÃO DOS ITENS)
              DOCUMENTAÇÃO: Esta função lê os 'timelineData' e 
              cria o HTML para cada item.
              ------------------------------------------------------------
            */
            function renderTimeline() {
                track.innerHTML = ''; // Limpa o trilho antes de desenhar

                timelineData.forEach((item, index) => {
                    const itemEl = document.createElement('div');
                    itemEl.classList.add('timeline-item', item.status);
                    itemEl.dataset.index = index;
                    
                    // Pega a cor (fazendo loop se houver mais itens que cores)
                    const color = colors[index % colors.length];
                    itemEl.style.setProperty('--item-color', color);

                    // Template HTML para cada item
                    itemEl.innerHTML = `
                        <div class="timeline-card">
                            <div class="card-icon">
                                <span class="material-icons-outlined">${item.icon}</span>
                            </div>
                            <div class="card-content">
                                <h4>${item.title}</h4>
                                <p>${item.description}</p>
                            </div>
                        </div>
                        <div class="timeline-milestone">
                            <div class="milestone-circle">${index + 1}</div>
                        </div>
                    `;
                    
                    track.appendChild(itemEl);
                });

                // Após criar os itens, calcula suas dimensões e atualiza a posição
                calculateItemWidth();
                updateTimelinePosition();
            }

            /*
              ------------------------------------------------------------
              PASSO 4: CÁLCULO DE DIMENSÕES
              DOCUMENTAÇÃO: Calcula a largura total de um item,
              incluindo suas margens.
              ------------------------------------------------------------
            */
            function calculateItemWidth() {
                const firstItem = track.querySelector('.timeline-item');
                if (firstItem) {
                    const itemStyle = window.getComputedStyle(firstItem);
                    const marginLeft = parseFloat(itemStyle.marginLeft);
                    const marginRight = parseFloat(itemStyle.marginRight);
                    
                    // Largura total = largura do elemento + margens laterais
                    itemWidth = firstItem.offsetWidth + marginLeft + marginRight;
                }
            }

            /*
              ------------------------------------------------------------
              PASSO 5: ATUALIZAÇÃO DA POSIÇÃO (LÓGICA DO CARROSSEL)
              DOCUMENTAÇÃO: Esta é a função principal da interatividade.
              ------------------------------------------------------------
            */
            function updateTimelinePosition() {
                if (!itemWidth) return; // Não faz nada se a largura não foi calculada

                const containerWidth = timelineContainer.clientWidth;
                
                /*
                  CÁLCULO DE CENTRALIZAÇÃO:
                  1. (currentIndex * itemWidth): Calcula a distância
                     total para mover o trilho para a esquerda.
                  2. (containerWidth / 2): Acha o centro do container.
                  3. (itemWidth / 2): Acha o centro do item.
                  
                  O offset final move o trilho para que o centro do
                  item ativo alinhe com o centro do container.
                */
                const offsetToCenter = (containerWidth / 2) - (itemWidth / 2);
                const newTransform = -(currentIndex * itemWidth) + offsetToCenter;

                // Aplica a transformação de CSS no trilho
                track.style.transform = `translateX(${newTransform}px)`;

                // Atualiza a classe '.active' para o efeito de foco
                track.querySelectorAll('.timeline-item').forEach((item, index) => {
                    if (index === currentIndex) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });

                // Habilita/desabilita os botões de navegação
                prevBtn.disabled = (currentIndex === 0);
                nextBtn.disabled = (currentIndex === timelineData.length - 1);
            }

            /*
              ------------------------------------------------------------
              PASSO 6: EVENT LISTENERS (OUVINTES DE EVENTOS)
              ------------------------------------------------------------
            */
            
            // Clique no botão "Anterior"
            prevBtn.addEventListener('click', () => {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateTimelinePosition();
                }
            });

            // Clique no botão "Próximo"
            nextBtn.addEventListener('click', () => {
                if (currentIndex < timelineData.length - 1) {
                    currentIndex++;
                    updateTimelinePosition();
                }
            });

            // Lidar com redimensionamento da tela
            let resizeTimer;
            window.addEventListener('resize', () => {
                // Usamos um 'debounce' simples para não recalcular
                // a cada pixel de redimensionamento, melhorando a performance.
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(() => {
                    calculateItemWidth();
                    updateTimelinePosition();
                }, 100);
            });

            /*
              ------------------------------------------------------------
              PASSO 7: INICIALIZAÇÃO
              ------------------------------------------------------------
            */
            renderTimeline();

        });
    </script>

</body>
</html>